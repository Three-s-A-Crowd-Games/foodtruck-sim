[gd_scene load_steps=7 format=3 uid="uid://bm3ixvs3xjcdn"]

[ext_resource type="PackedScene" path="res://addons/godot-xr-tools/misc/vr_common_shader_cache.tscn" id="1_ebo6m"]
[ext_resource type="Script" path="res://resources/components/ObjectCollision.gd" id="2_4trl5"]
[ext_resource type="PackedScene" uid="uid://b4ysuy43poobf" path="res://addons/godot-xr-tools/functions/function_pickup.tscn" id="3_0bs62"]
[ext_resource type="PackedScene" uid="uid://diyu06cw06syv" path="res://addons/godot-xr-tools/player/player_body.tscn" id="4_xn5w2"]
[ext_resource type="PackedScene" uid="uid://6lsckuqb1cux" path="res://addons/XRHandtrackingTools/tracked_hand_left.tscn" id="5_fbsw6"]
[ext_resource type="PackedScene" uid="uid://bjfijuv76djxl" path="res://addons/XRHandtrackingTools/tracked_hand_right.tscn" id="6_eghs8"]

[node name="XROrigin3D" type="XROrigin3D"]

[node name="XRCamera3D" type="XRCamera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8, 0)

[node name="VRCommonShaderCache" parent="XRCamera3D" instance=ExtResource("1_ebo6m")]

[node name="LeftHand" type="XRController3D" parent="."]
transform = Transform3D(0.185986, -0.96761, 0.1707, 0.964215, 0.14633, -0.221086, 0.188947, 0.205709, 0.9602, 0.043608, 0.0156297, -0.074961)

[node name="XRToolsCollisionHand" type="AnimatableBody3D" parent="LeftHand"]
collision_layer = 0
collision_mask = 0
script = ExtResource("2_4trl5")

[node name="FunctionPickup" parent="LeftHand/XRToolsCollisionHand" instance=ExtResource("3_0bs62")]
grab_distance = 0.06
ranged_enable = false

[node name="RightHand" type="XRController3D" parent="."]
transform = Transform3D(0.195334, 0.938881, 0.283455, -0.0843272, -0.271874, 0.958631, 0.977105, -0.211156, 0.026067, 0.0112003, -0.0850221, -0.0373568)

[node name="XRToolsCollisionHand" type="AnimatableBody3D" parent="RightHand"]
collision_layer = 0
collision_mask = 0
script = ExtResource("2_4trl5")

[node name="FunctionPickup" parent="RightHand/XRToolsCollisionHand" instance=ExtResource("3_0bs62")]
grab_distance = 0.06
ranged_enable = false

[node name="PlayerBody" parent="." instance=ExtResource("4_xn5w2")]
collision_mask = 8389624
player_calibrate_height = false
push_rigid_bodies = false

[node name="TrackedHandLeft" parent="." instance=ExtResource("5_fbsw6")]

[node name="RemoteTransform3D" parent="TrackedHandLeft/Skeleton3D/Index Metacarpal" index="0"]
remote_path = NodePath("../../../../LeftHand")

[node name="TrackedHandRight" parent="." instance=ExtResource("6_eghs8")]

[node name="RemoteTransform3D" parent="TrackedHandRight/Skeleton3D/Index_Metacarpal" index="0"]
remote_path = NodePath("../../../../RightHand")

[connection signal="has_dropped" from="LeftHand/XRToolsCollisionHand/FunctionPickup" to="LeftHand/XRToolsCollisionHand" method="_on_function_pickup_has_dropped"]
[connection signal="has_picked_up" from="LeftHand/XRToolsCollisionHand/FunctionPickup" to="LeftHand/XRToolsCollisionHand" method="_on_function_pickup_has_picked_up"]
[connection signal="has_dropped" from="RightHand/XRToolsCollisionHand/FunctionPickup" to="RightHand/XRToolsCollisionHand" method="_on_function_pickup_has_dropped"]
[connection signal="has_picked_up" from="RightHand/XRToolsCollisionHand/FunctionPickup" to="RightHand/XRToolsCollisionHand" method="_on_function_pickup_has_picked_up"]
[connection signal="on_grib_activated" from="TrackedHandLeft" to="LeftHand/XRToolsCollisionHand/FunctionPickup" method="_on_grip_pressed"]
[connection signal="on_grib_deactivated" from="TrackedHandLeft" to="LeftHand/XRToolsCollisionHand/FunctionPickup" method="_on_grip_release"]
[connection signal="on_grib_activated" from="TrackedHandRight" to="RightHand/XRToolsCollisionHand/FunctionPickup" method="_on_grip_pressed"]
[connection signal="on_grib_deactivated" from="TrackedHandRight" to="RightHand/XRToolsCollisionHand/FunctionPickup" method="_on_grip_release"]

[editable path="TrackedHandLeft"]
[editable path="TrackedHandRight"]
