[gd_scene load_steps=40 format=3 uid="uid://c0v7muk0g6i1v"]

[ext_resource type="Script" path="res://resources/main.gd" id="1_bp7lj"]
[ext_resource type="Texture2D" uid="uid://x86488ulemea" path="res://assets/lonely_road_afternoon_puresky_1k.hdr" id="2_koa30"]
[ext_resource type="Material" uid="uid://3ma4e1fdhaqk" path="res://assets/materials/asphalt.tres" id="3_t1av6"]
[ext_resource type="PackedScene" uid="uid://cbl3uf2fxx256" path="res://assets/models/objects/appliances/dönerbudenbox.blend" id="4_0s1hf"]
[ext_resource type="PackedScene" uid="uid://clf7iny7d8p84" path="res://resources/objects/foodboxes/cheese_block.tscn" id="5_7gy1j"]
[ext_resource type="PackedScene" uid="uid://c0brq67lg35qy" path="res://resources/objects/foodboxes/lettuce_block.tscn" id="6_dck64"]
[ext_resource type="PackedScene" uid="uid://c54y4lqme3kal" path="res://resources/objects/furniture/BunBottomBox.tscn" id="8_wv0n8"]
[ext_resource type="PackedScene" uid="uid://canauins47xs5" path="res://resources/objects/furniture/BunTopBox.tscn" id="9_0ggvl"]
[ext_resource type="PackedScene" uid="uid://duco67gjqwbh3" path="res://assets/models/objects/furniture/truck.blend" id="10_sxopa"]
[ext_resource type="PackedScene" uid="uid://dk7kgwkqveoel" path="res://resources/objects/appliances/stove.tscn" id="11_it22y"]
[ext_resource type="PackedScene" uid="uid://cun37a3kia4ky" path="res://resources/objects/appliances/fryer.tscn" id="12_bqo52"]
[ext_resource type="PackedScene" uid="uid://cwwf7sktcami7" path="res://resources/special_areas/cooking_area.tscn" id="14_jdra4"]
[ext_resource type="Script" path="res://resources/objects/furniture/food_bucket.gd" id="16_rslco"]
[ext_resource type="PackedScene" uid="uid://daq62tyjf4nnf" path="res://resources/objects/accessoires/tray.tscn" id="17_ixrqt"]
[ext_resource type="PackedScene" uid="uid://witvb00gyysp" path="res://assets/models/objects/appliances/fries_box.blend" id="18_2o43f"]
[ext_resource type="PackedScene" uid="uid://dqu2cm5yrrt54" path="res://resources/objects/accessoires/friesbox.tscn" id="19_7nnlf"]
[ext_resource type="PackedScene" uid="uid://b1gbpv13fh1ap" path="res://resources/objects/accessoires/plate.tscn" id="20_jfj67"]
[ext_resource type="PackedScene" uid="uid://bb2wkkxwt7lot" path="res://resources/objects/appliances/sauce_container.tscn" id="22_u3xyb"]
[ext_resource type="PackedScene" uid="uid://cyquot0luo414" path="res://resources/special_areas/pinning_area.tscn" id="25_can5l"]
[ext_resource type="PackedScene" uid="uid://dy8lnrkp88fju" path="res://resources/objects/next_order_button.tscn" id="26_3voqb"]
[ext_resource type="ArrayOccluder3D" uid="uid://cehtcih2p5kyl" path="res://resources/occluder_data/main_hard.occ" id="26_rftw2"]
[ext_resource type="PackedScene" uid="uid://oefjh0xalhqn" path="res://assets/models/objects/furniture/pin-board.blend" id="27_tg6bc"]
[ext_resource type="PackedScene" uid="uid://c3qt746s7dnh3" path="res://resources/objects/cash_register.tscn" id="28_qjc17"]
[ext_resource type="PackedScene" uid="uid://ri8whwljtqxn" path="res://resources/objects/furniture/tv_screen.tscn" id="29_jels6"]
[ext_resource type="PackedScene" uid="uid://dpdsnivi17hj6" path="res://resources/customer_system/customer_manager.tscn" id="31_x6au2"]
[ext_resource type="PackedScene" uid="uid://iut5v7hlcdcc" path="res://assets/models/objects/appliances/cutting_board.blend" id="32_0s1t3"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_w6e6x"]
panorama = ExtResource("2_koa30")

[sub_resource type="Sky" id="Sky_o2hra"]
sky_material = SubResource("PanoramaSkyMaterial_w6e6x")

[sub_resource type="Environment" id="Environment_hp05l"]
background_mode = 2
background_intensity = 9285.13
sky = SubResource("Sky_o2hra")
reflected_light_source = 2
tonemap_mode = 3

[sub_resource type="CameraAttributesPhysical" id="CameraAttributesPhysical_vmgr7"]
auto_exposure_enabled = true
frustum_focus_distance = 0.01
frustum_focal_length = 1.0
frustum_near = 0.001

[sub_resource type="BoxShape3D" id="BoxShape3D_fjiod"]
size = Vector3(10, 0.2, 10)

[sub_resource type="BoxMesh" id="BoxMesh_d002o"]
material = ExtResource("3_t1av6")
size = Vector3(100, 0.2, 100)

[sub_resource type="BoxShape3D" id="BoxShape3D_j8awf"]
resource_local_to_scene = true
size = Vector3(0.790588, 0.0263672, 0.311005)

[sub_resource type="BoxShape3D" id="BoxShape3D_7dyyl"]
size = Vector3(0.425, 0.075, 0.375)

[sub_resource type="BoxShape3D" id="BoxShape3D_a4akg"]
size = Vector3(0.2, 0.166309, 0.294)

[sub_resource type="BoxShape3D" id="BoxShape3D_ydnwk"]
size = Vector3(0.19, 0.075, 0.175)

[sub_resource type="BoxShape3D" id="BoxShape3D_8pe7s"]
resource_local_to_scene = true
size = Vector3(0.0175209, 0.231544, 0.835083)

[sub_resource type="BoxShape3D" id="BoxShape3D_6gvic"]
resource_local_to_scene = true
size = Vector3(0.0147419, 0.231293, 0.830749)

[sub_resource type="BoxShape3D" id="BoxShape3D_mm4js"]
size = Vector3(0.44519, 0.0537109, 1.21478)

[node name="Main" type="Node3D"]
script = ExtResource("1_bp7lj")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_hp05l")
camera_attributes = SubResource("CameraAttributesPhysical_vmgr7")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.80519, 0.312031, -0.504287, 0.178342, 0.683596, 0.707736, 0.565564, -0.659798, 0.494777, -3.88802, 7.74142, 6.44357)
light_intensity_lux = 18487.8
shadow_enabled = true
directional_shadow_mode = 1

[node name="OutsideLight" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.549212, 2.14091, 1.0378)
light_energy = 7.0
light_size = 1.745
shadow_enabled = true
omni_attenuation = -4.0

[node name="Floor" type="StaticBody3D" parent="."]
collision_layer = 8388609
collision_mask = 524289

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
shape = SubResource("BoxShape3D_fjiod")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.00545907)
mesh = SubResource("BoxMesh_d002o")

[node name="Truck" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.750915, 0)

[node name="dönerbudenbox" parent="Truck" instance=ExtResource("4_0s1hf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.962887, 0.974621, -0.436392)

[node name="CheeseBlock" parent="Truck/dönerbudenbox" instance=ExtResource("5_7gy1j")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0875574, 0)

[node name="dönerbudenbox2" parent="Truck" instance=ExtResource("4_0s1hf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.141, 0.975, -0.436)

[node name="LettuceBlock" parent="Truck/dönerbudenbox2" instance=ExtResource("6_dck64")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0873482, 0)

[node name="BunBottomBox" parent="Truck" instance=ExtResource("8_wv0n8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.05789, 1.06345, -0.82346)

[node name="BunTopBox" parent="Truck" instance=ExtResource("9_0ggvl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.06068, 1.32717, -0.82665)

[node name="truck_v1" parent="Truck" instance=ExtResource("10_sxopa")]

[node name="right-wall" parent="Truck/truck_v1" index="0"]
transform = Transform3D(1.045, 0, 0, 0, 1.045, 0, 0, 0, 1.045, 1.275, 1.05, 0)

[node name="StaticBody3D" parent="Truck/truck_v1/right-wall" index="0"]
collision_layer = 8388609
collision_mask = 524289

[node name="left-wall" parent="Truck/truck_v1" index="1"]
transform = Transform3D(1.05, 0, 0, 0, 1.05, 0, 0, 0, 1.05, -1.275, 1.05, 0)

[node name="StaticBody3D" parent="Truck/truck_v1/left-wall" index="0"]
collision_layer = 8388609
collision_mask = 524289

[node name="StaticBody3D" parent="Truck/truck_v1/front-wall" index="0"]
collision_layer = 8388609
collision_mask = 524289

[node name="StaticBody3D" parent="Truck/truck_v1/bottom-wall" index="0"]
collision_layer = 8388609
collision_mask = 524289

[node name="StaticBody3D" parent="Truck/truck_v1/back-wall" index="0"]
collision_layer = 8388609
collision_mask = 524289

[node name="Point" parent="Truck/truck_v1" index="6"]
light_energy = 1000.0
shadow_enabled = true
omni_range = 2.848
omni_attenuation = 1.93187

[node name="Point2" parent="Truck/truck_v1/Collection" index="6"]
light_energy = 75.0
omni_range = 0.67

[node name="Point_001" parent="Truck/truck_v1/Collection" index="7"]
light_energy = 75.0
omni_range = 0.67

[node name="Point_002" parent="Truck/truck_v1/Collection" index="8"]
light_energy = 75.0
omni_range = 0.67

[node name="Point_003" parent="Truck/truck_v1/Collection" index="9"]
light_energy = 75.0
omni_range = 0.67

[node name="Point_004" parent="Truck/truck_v1/Collection" index="10"]
light_energy = 75.0
omni_range = 0.67

[node name="Point_005" parent="Truck/truck_v1/Collection" index="11"]
light_energy = 75.0
omni_range = 0.67

[node name="Point_006" parent="Truck/truck_v1/Collection" index="12"]
light_energy = 75.0
omni_range = 0.67

[node name="Point_007" parent="Truck/truck_v1/Collection" index="13"]
light_energy = 75.0
omni_range = 0.67

[node name="Stove" parent="Truck" instance=ExtResource("11_it22y")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -0.479958, 0, -0.605357)

[node name="Fryer" parent="Truck" instance=ExtResource("12_bqo52")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.183, 0.008, -0.605)

[node name="CookingArea" parent="Truck" instance=ExtResource("14_jdra4")]
enabled = true

[node name="CollisionShape3D" parent="Truck/CookingArea" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.850798, 1.97374, 0.783707)
shape = SubResource("BoxShape3D_j8awf")

[node name="TraySpawner" type="Node3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -0.577731, 1.37232, 0.73644)
script = ExtResource("16_rslco")
item_scene = ExtResource("17_ixrqt")

[node name="ExitDetector" type="Area3D" parent="TraySpawner"]
collision_layer = 0
collision_mask = 65536
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="TraySpawner/ExitDetector"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0350893, 0)
shape = SubResource("BoxShape3D_7dyyl")

[node name="Tray" parent="TraySpawner" instance=ExtResource("17_ixrqt")]

[node name="Tray2" parent="TraySpawner" instance=ExtResource("17_ixrqt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0289918, 0)

[node name="FriesboxSpawner" type="Node3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -0.676501, 1.09561, 0.690906)
script = ExtResource("16_rslco")
item_scene = ExtResource("18_2o43f")

[node name="ExitDetector" type="Area3D" parent="FriesboxSpawner"]
collision_layer = 0
collision_mask = 65536
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="FriesboxSpawner/ExitDetector"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0754709, -0.00374752)
shape = SubResource("BoxShape3D_a4akg")

[node name="Friesbox" parent="FriesboxSpawner" instance=ExtResource("19_7nnlf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.0985701)

[node name="Friesbox2" parent="FriesboxSpawner" instance=ExtResource("19_7nnlf")]

[node name="Friesbox3" parent="FriesboxSpawner" instance=ExtResource("19_7nnlf")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, -0.103301)

[node name="PlateSpawner" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.46355, 1.09007, 0.675298)
script = ExtResource("16_rslco")
item_scene = ExtResource("20_jfj67")

[node name="ExitDetector" type="Area3D" parent="PlateSpawner"]
collision_layer = 0
collision_mask = 65536
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="PlateSpawner/ExitDetector"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0370239, 0)
shape = SubResource("BoxShape3D_ydnwk")

[node name="Plate" parent="PlateSpawner" instance=ExtResource("20_jfj67")]

[node name="Plate2" parent="PlateSpawner" instance=ExtResource("20_jfj67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.01475, 0)

[node name="Plate3" parent="PlateSpawner" instance=ExtResource("20_jfj67")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0295531, 0)

[node name="SauceContainer" parent="." instance=ExtResource("22_u3xyb")]
transform = Transform3D(-0.766044, 0, -0.642788, 0, 1, 0, 0.642788, 0, -0.766044, 0.888094, 1.72365, -0.563461)

[node name="SauceContainer2" parent="." instance=ExtResource("22_u3xyb")]
transform = Transform3D(-0.965926, 0, -0.258819, 0, 1, 0, 0.258819, 0, -0.965926, 1.02162, 1.72365, -0.307314)
le_sauce_type_primitive = "BBQ"

[node name="SauceContainer3" parent="." instance=ExtResource("22_u3xyb")]
transform = Transform3D(-0.258819, 0, -0.965926, 0, 1, 0, 0.965926, 0, -0.258819, 0.641343, 1.72365, -0.728016)
le_sauce_type_primitive = "MUSTARD"

[node name="SpawnPoint" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.161468, 0.765339, 0.16495)

[node name="PinningArea" parent="." instance=ExtResource("25_can5l")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -0.443292, 2.23697, -0.939232)

[node name="CollisionShape3D" parent="PinningArea" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0160006, 0.0597191, 0.0169069)
shape = SubResource("BoxShape3D_8pe7s")

[node name="PinningArea2" parent="." instance=ExtResource("25_can5l")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -0.628921, 2.23697, -0.943795)

[node name="CollisionShape3D" parent="PinningArea2" index="0"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -0.936204, 0.070755, -0.592275)
shape = SubResource("BoxShape3D_6gvic")

[node name="NextOrderButton" parent="." instance=ExtResource("26_3voqb")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.213596, 2.28869, 0.95)

[node name="Order_Paper_Spawner" parent="NextOrderButton" index="2"]
transform = Transform3D(-1, 0, -8.74228e-08, -8.74228e-08, -4.37114e-08, 1, -3.82137e-15, 1, 4.37114e-08, -0.354469, 0.115238, -0.561851)
rotation_order = 0

[node name="pin-board" parent="." instance=ExtResource("27_tg6bc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.428115, 2.29615, -0.95)

[node name="pin-board2" parent="." instance=ExtResource("27_tg6bc")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -1.24875, 2.30832, -0.00618118)

[node name="CashRegister" parent="." instance=ExtResource("28_qjc17")]
transform = Transform3D(-1, 0, 0, 0, 1, 0, 0, 0, -1, 0.277287, 1.72365, 0.761474)

[node name="OrderDetectionArea" parent="CashRegister" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0098435, 1.19209e-07, -6.81877e-05)

[node name="CollisionShape3D" parent="CashRegister/OrderDetectionArea" index="0"]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 0.773393, 0.0416946, -0.417708)
shape = SubResource("BoxShape3D_mm4js")

[node name="TV-Screen" parent="." instance=ExtResource("29_jels6")]
transform = Transform3D(0.939665, -0.0895358, 0.330171, -1.11759e-08, 0.965142, 0.261727, -0.342096, -0.245935, 0.90691, 0.776048, 2.4923, 0.736524)

[node name="CustomerManager" parent="." instance=ExtResource("31_x6au2")]

[node name="cutting_board" parent="." instance=ExtResource("32_0s1t3")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -1.02526, 1.72365, 0.163604)

[node name="OccluderInstance3D" type="OccluderInstance3D" parent="."]
occluder = ExtResource("26_rftw2")

[connection signal="body_exited" from="TraySpawner/ExitDetector" to="TraySpawner" method="_on_exit_detector_body_exited"]
[connection signal="body_exited" from="FriesboxSpawner/ExitDetector" to="FriesboxSpawner" method="_on_exit_detector_body_exited"]
[connection signal="body_exited" from="PlateSpawner/ExitDetector" to="PlateSpawner" method="_on_exit_detector_body_exited"]

[editable path="Truck/truck_v1"]
[editable path="Truck/CookingArea"]
[editable path="PinningArea"]
[editable path="PinningArea2"]
[editable path="NextOrderButton"]
[editable path="NextOrderButton/order_button"]
[editable path="CashRegister"]
[editable path="CashRegister/cash_register"]
